{"ast":null,"code":"import _asyncToGenerator from \"/home/hmnd/code/poetryslam/web-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { html as t } from \"lit\";\nimport { getFlattenedFocusableItems as s } from \"../utils/traversal.js\";\nimport { renderBefore as o, renderAfter as i } from \"../utils/lit.js\";\nimport { ignoreFocus as r } from \"../utils/focus.js\";\n\nfunction h() {\n  return t => t.addInitializer(t => new e(t));\n}\n\nclass e {\n  constructor(t) {\n    this.host = t, this.host.addController(this);\n  }\n\n  get focusableItems() {\n    return s(this.root).filter(t => !t.hasAttribute(\"cds-focus-boundary\") && (this.root.contains(t) || t.closest(\"[cds-focus-trap]\") === this.host));\n  }\n\n  get root() {\n    return this.host.shadowRoot ? this.host.shadowRoot : this.host;\n  }\n\n  get styles() {\n    return t`<style cds-focus-style>:host(:focus-within) [cds-focus-boundary],:host(:host:focus-within) [cds-focus-boundary]{display:block!important}</style>`;\n  }\n\n  boundary(s) {\n    return t`<div @focusin=\"${() => this.focusableItems.at(s)?.focus()}\" test=\"${s}\" cds-focus-boundary tabindex=\"0\" style=\"display:none;position:absolute;width:1px;height:1px;clip:rect(0,0,0,0)\">boundary</div>`;\n  }\n\n  hostConnected() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.host.updateComplete, r(_this.host) || (o(_this.styles, _this.root), o(_this.boundary(-1), _this.root), i(_this.boundary(0), _this.root), _this.host.setAttribute(\"cds-focus-trap\", \"\"));\n    })();\n  }\n\n}\n\nexport { e as InlineFocusTrapController, h as focusTrap };","map":{"version":3,"sources":["/home/hmnd/code/poetryslam/web-app/node_modules/@cds/core/internal/controllers/inline-focus-trap.controller.js"],"names":["html","t","getFlattenedFocusableItems","s","renderBefore","o","renderAfter","i","ignoreFocus","r","h","addInitializer","e","constructor","host","addController","focusableItems","root","filter","hasAttribute","contains","closest","shadowRoot","styles","boundary","at","focus","hostConnected","updateComplete","setAttribute","InlineFocusTrapController","focusTrap"],"mappings":";AAAA,SAAOA,IAAI,IAAIC,CAAf,QAAqB,KAArB;AAA2B,SAAOC,0BAA0B,IAAIC,CAArC,QAA2C,uBAA3C;AAAmE,SAAOC,YAAY,IAAIC,CAAvB,EAAyBC,WAAW,IAAIC,CAAxC,QAA8C,iBAA9C;AAAgE,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,mBAA5B;;AAAgD,SAASC,CAAT,GAAY;AAAC,SAAOT,CAAC,IAAEA,CAAC,CAACU,cAAF,CAAkBV,CAAC,IAAE,IAAIW,CAAJ,CAAMX,CAAN,CAArB,CAAV;AAA0C;;AAAA,MAAMW,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACZ,CAAD,EAAG;AAAC,SAAKa,IAAL,GAAUb,CAAV,EAAY,KAAKa,IAAL,CAAUC,aAAV,CAAwB,IAAxB,CAAZ;AAA0C;;AAAkB,MAAdC,cAAc,GAAE;AAAC,WAAOb,CAAC,CAAC,KAAKc,IAAN,CAAD,CAAaC,MAAb,CAAqBjB,CAAC,IAAE,CAACA,CAAC,CAACkB,YAAF,CAAe,oBAAf,CAAD,KAAwC,KAAKF,IAAL,CAAUG,QAAV,CAAmBnB,CAAnB,KAAuBA,CAAC,CAACoB,OAAF,CAAU,kBAAV,MAAgC,KAAKP,IAApG,CAAxB,CAAP;AAA2I;;AAAQ,MAAJG,IAAI,GAAE;AAAC,WAAO,KAAKH,IAAL,CAAUQ,UAAV,GAAqB,KAAKR,IAAL,CAAUQ,UAA/B,GAA0C,KAAKR,IAAtD;AAA2D;;AAAU,MAANS,MAAM,GAAE;AAAC,WAAOtB,CAAE,kJAAT;AAA2J;;AAAAuB,EAAAA,QAAQ,CAACrB,CAAD,EAAG;AAAC,WAAOF,CAAE,kBAAiB,MAAI,KAAKe,cAAL,CAAoBS,EAApB,CAAuBtB,CAAvB,GAA2BuB,KAA3B,EAAmC,WAAUvB,CAAE,iIAA7E;AAA8M;;AAAMwB,EAAAA,aAAa,GAAE;AAAA;;AAAA;AAAC,YAAM,KAAI,CAACb,IAAL,CAAUc,cAAhB,EAA+BnB,CAAC,CAAC,KAAI,CAACK,IAAN,CAAD,KAAeT,CAAC,CAAC,KAAI,CAACkB,MAAN,EAAa,KAAI,CAACN,IAAlB,CAAD,EAAyBZ,CAAC,CAAC,KAAI,CAACmB,QAAL,CAAc,CAAC,CAAf,CAAD,EAAmB,KAAI,CAACP,IAAxB,CAA1B,EAAwDV,CAAC,CAAC,KAAI,CAACiB,QAAL,CAAc,CAAd,CAAD,EAAkB,KAAI,CAACP,IAAvB,CAAzD,EAAsF,KAAI,CAACH,IAAL,CAAUe,YAAV,CAAuB,gBAAvB,EAAwC,EAAxC,CAArG,CAA/B;AAAD;AAAkL;;AAAz2B;;AAA02B,SAAOjB,CAAC,IAAIkB,yBAAZ,EAAsCpB,CAAC,IAAIqB,SAA3C","sourcesContent":["import{html as t}from\"lit\";import{getFlattenedFocusableItems as s}from\"../utils/traversal.js\";import{renderBefore as o,renderAfter as i}from\"../utils/lit.js\";import{ignoreFocus as r}from\"../utils/focus.js\";function h(){return t=>t.addInitializer((t=>new e(t)))}class e{constructor(t){this.host=t,this.host.addController(this)}get focusableItems(){return s(this.root).filter((t=>!t.hasAttribute(\"cds-focus-boundary\")&&(this.root.contains(t)||t.closest(\"[cds-focus-trap]\")===this.host)))}get root(){return this.host.shadowRoot?this.host.shadowRoot:this.host}get styles(){return t`<style cds-focus-style>:host(:focus-within) [cds-focus-boundary],:host(:host:focus-within) [cds-focus-boundary]{display:block!important}</style>`}boundary(s){return t`<div @focusin=\"${()=>this.focusableItems.at(s)?.focus()}\" test=\"${s}\" cds-focus-boundary tabindex=\"0\" style=\"display:none;position:absolute;width:1px;height:1px;clip:rect(0,0,0,0)\">boundary</div>`}async hostConnected(){await this.host.updateComplete,r(this.host)||(o(this.styles,this.root),o(this.boundary(-1),this.root),i(this.boundary(0),this.root),this.host.setAttribute(\"cds-focus-trap\",\"\"))}}export{e as InlineFocusTrapController,h as focusTrap};\n"]},"metadata":{},"sourceType":"module"}