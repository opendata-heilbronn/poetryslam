{"ast":null,"code":"import _asyncToGenerator from \"/home/hmnd/code/poetryslam/web-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { listenForAttributeChange as t } from \"../utils/events.js\";\nimport { TriggerController as e } from \"./trigger.controller.js\";\n\nfunction r() {\n  return t => t.addInitializer(t => new i(t));\n}\n\nclass i {\n  constructor(t) {\n    this.host = t, this.host.addController(this), this.trigger = new e(this.host, {\n      focus: !1\n    });\n  }\n\n  hostConnected() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.host.updateComplete, _this.observer = t(_this.host, \"hidden\", () => _this.updateTrigger(!_this.host.hidden));\n    })();\n  }\n\n  hostUpdate() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.host.updateComplete, _this2.updateTrigger(!_this2.host.hidden);\n    })();\n  }\n\n  hostDisconnected() {\n    this.updateTrigger(!1), this.observer?.disconnect();\n  }\n\n  updateTrigger(t) {\n    this.trigger.current?.hasAttribute(\"popup\") && (this.trigger.current.ariaExpanded = \"\" + t), this.trigger.prev?.hasAttribute(\"popup\") && this.trigger.prev !== this.trigger.current && (this.trigger.prev.ariaExpanded = \"false\");\n  }\n\n}\n\nexport { i as AriaPopupController, r as ariaPopup };","map":{"version":3,"sources":["/home/hmnd/code/poetryslam/web-app/node_modules/@cds/core/internal/controllers/aria-popup.controller.js"],"names":["listenForAttributeChange","t","TriggerController","e","r","addInitializer","i","constructor","host","addController","trigger","focus","hostConnected","updateComplete","observer","updateTrigger","hidden","hostUpdate","hostDisconnected","disconnect","current","hasAttribute","ariaExpanded","prev","AriaPopupController","ariaPopup"],"mappings":";AAAA,SAAOA,wBAAwB,IAAIC,CAAnC,QAAyC,oBAAzC;AAA8D,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,yBAAlC;;AAA4D,SAASC,CAAT,GAAY;AAAC,SAAOH,CAAC,IAAEA,CAAC,CAACI,cAAF,CAAkBJ,CAAC,IAAE,IAAIK,CAAJ,CAAML,CAAN,CAArB,CAAV;AAA0C;;AAAA,MAAMK,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACN,CAAD,EAAG;AAAC,SAAKO,IAAL,GAAUP,CAAV,EAAY,KAAKO,IAAL,CAAUC,aAAV,CAAwB,IAAxB,CAAZ,EAA0C,KAAKC,OAAL,GAAa,IAAIP,CAAJ,CAAM,KAAKK,IAAX,EAAgB;AAACG,MAAAA,KAAK,EAAC,CAAC;AAAR,KAAhB,CAAvD;AAAmF;;AAAMC,EAAAA,aAAa,GAAE;AAAA;;AAAA;AAAC,YAAM,KAAI,CAACJ,IAAL,CAAUK,cAAhB,EAA+B,KAAI,CAACC,QAAL,GAAcb,CAAC,CAAC,KAAI,CAACO,IAAN,EAAW,QAAX,EAAqB,MAAI,KAAI,CAACO,aAAL,CAAmB,CAAC,KAAI,CAACP,IAAL,CAAUQ,MAA9B,CAAzB,CAA9C;AAAD;AAAgH;;AAAMC,EAAAA,UAAU,GAAE;AAAA;;AAAA;AAAC,YAAM,MAAI,CAACT,IAAL,CAAUK,cAAhB,EAA+B,MAAI,CAACE,aAAL,CAAmB,CAAC,MAAI,CAACP,IAAL,CAAUQ,MAA9B,CAA/B;AAAD;AAAsE;;AAAAE,EAAAA,gBAAgB,GAAE;AAAC,SAAKH,aAAL,CAAmB,CAAC,CAApB,GAAuB,KAAKD,QAAL,EAAeK,UAAf,EAAvB;AAAmD;;AAAAJ,EAAAA,aAAa,CAACd,CAAD,EAAG;AAAC,SAAKS,OAAL,CAAaU,OAAb,EAAsBC,YAAtB,CAAmC,OAAnC,MAA8C,KAAKX,OAAL,CAAaU,OAAb,CAAqBE,YAArB,GAAkC,KAAGrB,CAAnF,GAAsF,KAAKS,OAAL,CAAaa,IAAb,EAAmBF,YAAnB,CAAgC,OAAhC,KAA0C,KAAKX,OAAL,CAAaa,IAAb,KAAoB,KAAKb,OAAL,CAAaU,OAA3E,KAAqF,KAAKV,OAAL,CAAaa,IAAb,CAAkBD,YAAlB,GAA+B,OAApH,CAAtF;AAAmN;;AAA1mB;;AAA2mB,SAAOhB,CAAC,IAAIkB,mBAAZ,EAAgCpB,CAAC,IAAIqB,SAArC","sourcesContent":["import{listenForAttributeChange as t}from\"../utils/events.js\";import{TriggerController as e}from\"./trigger.controller.js\";function r(){return t=>t.addInitializer((t=>new i(t)))}class i{constructor(t){this.host=t,this.host.addController(this),this.trigger=new e(this.host,{focus:!1})}async hostConnected(){await this.host.updateComplete,this.observer=t(this.host,\"hidden\",(()=>this.updateTrigger(!this.host.hidden)))}async hostUpdate(){await this.host.updateComplete,this.updateTrigger(!this.host.hidden)}hostDisconnected(){this.updateTrigger(!1),this.observer?.disconnect()}updateTrigger(t){this.trigger.current?.hasAttribute(\"popup\")&&(this.trigger.current.ariaExpanded=\"\"+t),this.trigger.prev?.hasAttribute(\"popup\")&&this.trigger.prev!==this.trigger.current&&(this.trigger.prev.ariaExpanded=\"false\")}}export{i as AriaPopupController,r as ariaPopup};\n"]},"metadata":{},"sourceType":"module"}